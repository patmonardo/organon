/**
 * DIFFERENCE: The Second Determination of Reflection (CITTA)
 * =========================================================
 *
 * Difference as the fundamental mechanism of CITTA (reflective consciousness).
 * This is how mind sees "oppositions" - the First "Law" of Vedic Logic.
 * The ability to perceive difference/opposition points to the "supernatural"
 * nature of consciousness as self-determining negativity.
 *
 * Three levels of development:
 * 1. ABSOLUTE DIFFERENCE - Simple self-referring difference (Bheda)
 * 2. DIVERSITY - External indifferent differences (Vividha)
 * 3. OPPOSITION - Determinate opposites (Virodha/Dvandva)
 *
 * "Difference is the negativity that reflection possesses in itself,
 * the nothing which is said in identity discourse,
 * the essential moment of identity itself" - Hegel
 *
 * Sanskrit Terms:
 * - Bheda = Difference/Division
 * - Vividha = Diversity/Multiplicity
 * - Virodha/Dvandva = Opposition/Contradiction
 * - Sama = Likeness
 * - Visama = Unlikeness
 *
 * Based on Hegel's Logic Book Two: Essence - Chapter 2, B. Difference
 */

/**
 * Base interface for difference determinations
 */
interface DifferenceDetermination {
  dialecticalMovement(): string;
  getCITTAOperation(): string;
  getVedicLogicLaw(): string;
  getSanskritTerms(): string;
}

/**
 * Interface for opposition-specific operations
 */
interface OppositionOperation extends DifferenceDetermination {
  getPositiveNegative(): string;
  getSupernaturalInsight(): string;
  getCompleteOpposition(): string;
}

/**
 * ABSOLUTE DIFFERENCE (BHEDA)
 * ===========================
 *
 * Difference as simple self-referring negativity
 */
class AbsoluteDifference implements DifferenceDetermination {
  private negativityInReflection: string;
  private essentialMomentOfIdentity: string;
  private selfReferringDifference: string;
  private simpleNot: string;
  private differenceOfReflection: string;

  constructor() {
    this.negativityInReflection = "difference is the negativity that reflection possesses in itself";
    this.essentialMomentOfIdentity = "the essential moment of identity itself which determines itself and is differentiated from difference";
    this.selfReferringDifference = "difference in and for itself, not difference through something external but self-referring";
    this.simpleNot = "in the absolute difference of A and not-A, it is the simple 'not' which constitutes the difference";
    this.differenceOfReflection = "it is the difference of reflection, not the otherness of existence";
  }

  dialecticalMovement(): string {
    return `
    ABSOLUTE DIFFERENCE (BHEDA) develops through:
    1. Negativity that reflection possesses in itself (not external)
    2. Essential moment of identity itself (identity's own self-negation)
    3. Self-referring difference (A and not-A relation)
    4. Simple "not" as constitutive of difference
    5. Difference of reflection vs otherness of existence
    `;
  }

  getCITTAOperation(): string {
    return `
    Absolute Difference as CITTA's Operation:
    - Mind's power to distinguish itself from itself
    - Not external comparison but internal self-differentiation
    - The "simple 'not'" as mind's fundamental operation
    - How consciousness generates otherness from pure self-reference
    - The supernatural power to create difference from identity
    `;
  }

  getVedicLogicLaw(): string {
    return `
    BHEDA as First Law of Vedic Logic:
    - The fundamental capacity to distinguish (Viveka)
    - Not empirical difference but transcendental differentiation
    - Mind's a priori power to generate not-A from A
    - The basis of all logical operations in consciousness
    - Eternal law of consciousness's self-determination
    `;
  }

  getSanskritTerms(): string {
    return `
    Sanskrit Terms for Absolute Difference:
    - BHEDA (भेद): Difference/Division - the fundamental split
    - VIVEKA (विवेक): Discrimination - conscious differentiation
    - ANYATA (अन्यता): Otherness - but as self-othering
    - PRATIṢEDHA (प्रतिषेध): Negation - the "simple not"
    `;
  }

  /**
   * Difference in itself as self-referring
   */
  getDifferenceInItself(): string {
    return `
    "Difference in itself is the difference that refers itself to itself;
    thus it is the negativity of itself, the difference not from another
    but of itself from itself; it is not itself but its other"

    This is CITTA's fundamental paradox:
    - To be different, it must differ from itself
    - Self-referring negativity as basis of all mental activity
    - The mystery of how mind creates otherness from identity
    `;
  }

  /**
   * Difference and identity unity
   */
  getDifferenceIdentityUnity(): string {
    return `
    "Difference is, therefore, itself and identity.
    The two together constitute difference;
    difference is the whole and its moment"

    The Unity in CITTA:
    - Difference contains identity as its own moment
    - Identity contains difference as its own moment
    - "Essential nature of reflection and determined primordial origin of all activity"
    - The supernatural source of mental self-movement
    `;
  }

  /**
   * Transition to diversity
   */
  getTransitionToDiversity(): string {
    return `
    Absolute Difference transitions to Diversity when:
    - Its two moments (identity and difference) become external
    - Self-referring becomes other-referring
    - Simple difference becomes multiple differences
    - The movement from BHEDA to VIVIDHA
    `;
  }
}

/**
 * DIVERSITY (VIVIDHA)
 * ===================
 *
 * Difference as external indifferent multiplicity
 */
class Diversity implements DifferenceDetermination {
  private identityBreaksApart: string;
  private diverseIndifferent: string;
  private externalReflection: string;
  private likenessUnlikeness: string;
  private comparingActivity: string;

  constructor() {
    this.identityBreaksApart = "identity internally breaks apart into diversity";
    this.diverseIndifferent = "the different subsists as diverse, indifferent to any other";
    this.externalReflection = "in diversity, reflection has in general become external";
    this.likenessUnlikeness = "external identity is likeness, and external difference is unlikeness";
    this.comparingActivity = "external reflection connects diversity by comparing";
  }

  dialecticalMovement(): string {
    return `
    DIVERSITY (VIVIDHA) develops through:
    1. Identity breaking apart into indifferent differences
    2. Each diverse moment referring only to itself
    3. Reflection becoming external (comparing activity)
    4. Likeness and unlikeness as external determinations
    5. Comparing activity that oscillates between them
    6. Self-sublation through the failure of external difference
    `;
  }

  getCITTAOperation(): string {
    return `
    Diversity as CITTA's Operation:
    - Mind comparing different objects as external
    - "In so far as" and "from this side or that" thinking
    - Oscillation between likeness and unlikeness
    - External reflection that keeps differences apart
    - The level of ordinary empirical consciousness
    `;
  }

  getVedicLogicLaw(): string {
    return `
    VIVIDHA as Empirical Level of Vedic Logic:
    - The realm of ordinary comparing consciousness
    - Multiplicity as external differences
    - The level where mind appears to deal with external objects
    - But this externality is already mind's own activity
    - Preparation for recognition of true opposition
    `;
  }

  getSanskritTerms(): string {
    return `
    Sanskrit Terms for Diversity:
    - VIVIDHA (विविध): Diversity/Multiplicity
    - SAMA (सम): Likeness/Similarity
    - VISAMA (विषम): Unlikeness/Dissimilarity
    - TULANA (तुलना): Comparison
    - BAHYA (बाह्य): External
    `;
  }

  /**
   * The nature of diverse moments
   */
  getDiverseMoments(): string {
    return `
    "The diverse moments conduct themselves with respect to each other,
    not as identity and difference, but only as moments different in general,
    indifferent to each other and to their determinateness"

    In CITTA as Diversity:
    - Each moment refers only to itself
    - No internal relation between differences
    - External comparison becomes necessary
    - The illusion of independent objects
    `;
  }

  /**
   * Likeness and unlikeness
   */
  getLikenessUnlikeness(): string {
    return `
    "External identity is likeness, and external difference is unlikeness.
    Whether something is like or unlike something else is not the concern
    of either the like or the unlike; each refers only to itself"

    SAMA and VISAMA in CITTA:
    - Likeness and unlikeness depend on external comparison
    - Not intrinsic to the things themselves
    - "Depend on the point of view of a third external to them"
    - Mind as the comparing third that creates relations
    `;
  }

  /**
   * The comparing activity
   */
  getComparingActivity(): string {
    return `
    "External reflection connects diversity by referring it to likeness and unlikeness.
    This reference, which is a comparing, moves back and forth from likeness
    to unlikeness and from unlikeness to likeness"

    TULANA in CITTA:
    - Mind's oscillating activity between SAMA and VISAMA
    - "In so far as" and "from this side or that" operations
    - The attempt to keep differences external
    - But this very activity reveals mind's own nature
    `;
  }

  /**
   * Self-sublation of diversity
   */
  getSelfSublation(): string {
    return `
    "Because of this separation from each other, they sublate themselves.
    Precisely that which should save them from contradiction and dissolution...
    is their destruction"

    Diversity's Self-Contradiction:
    - Attempt to keep likeness and unlikeness apart fails
    - Each becomes "like itself" - difference vanishes
    - External difference sublates itself
    - Transition to genuine Opposition (VIRODHA)
    `;
  }
}

/**
 * OPPOSITION (VIRODHA/DVANDVA)
 * ============================
 *
 * The completion of difference as determinate opposition
 */
class Opposition implements OppositionOperation {
  private completionOfDifference: string;
  private unityOfIdentityDiversity: string;
  private positiveNegative: string;
  private selfSubsistingOpposites: string;
  private mutualDetermination: string;

  constructor() {
    this.completionOfDifference = "in opposition, the determinate reflection, difference, is brought to completion";
    this.unityOfIdentityDiversity = "opposition is the unity of identity and diversity; its moments are diverse in one identity";
    this.positiveNegative = "the positive and the negative are the sides of opposition that have become self-subsisting";
    this.selfSubsistingOpposites = "each is itself and its other; each has its determinateness not in an other but within";
    this.mutualDetermination = "each is only to the extent that its non-being is, the two in an identical reference";
  }

  dialecticalMovement(): string {
    return `
    OPPOSITION (VIRODHA) develops through:
    1. Unity of identity and diversity in one identity
    2. Moments as diverse yet in essential relation
    3. Positive and negative as self-subsisting opposites
    4. Each containing its other within itself
    5. Mutual determination through reciprocal negation
    6. Complete self-subsistent opposition
    `;
  }

  getCITTAOperation(): string {
    return `
    Opposition as CITTA's Fundamental Operation:
    - Mind's power to see true opposites (not mere differences)
    - Each opposite containing its other within itself
    - Positive and negative as living determinations
    - The supernatural ability to perceive essential opposition
    - Foundation of all dialectical thinking
    `;
  }

  getVedicLogicLaw(): string {
    return `
    VIRODHA as Supreme Law of Vedic Logic:
    - The highest form of logical determination
    - Opposition as self-determining structure
    - Each opposite existing only through its other
    - The eternal pattern of consciousness's self-movement
    - Gateway to contradiction and resolution
    `;
  }

  getSanskritTerms(): string {
    return `
    Sanskrit Terms for Opposition:
    - VIRODHA (विरोध): Opposition/Contradiction
    - DVANDVA (द्वन्द्व): Pair of opposites
    - PRATIYOGIN (प्रतियोगिन्): Positive term of relation
    - ANUYOGIN (अनुयोगिन्): Negative term of relation
    - ANYONYĀŚRAYA (अन्योन्याश्रय): Mutual dependence
    `;
  }

  getPositiveNegative(): string {
    return `
    The Positive and Negative as Self-Subsisting:
    - "Each is itself and its other"
    - Positive contains reference to negative within itself
    - Negative contains reference to positive within itself
    - Not external opposition but internal self-determination
    - The living structure of all determinateness
    `;
  }

  getSupernaturalInsight(): string {
    return `
    The "Supernatural" Nature of Opposition:
    - Mind's ability to see true opposites transcends empirical observation
    - Opposition is not found in nature but posited by consciousness
    - The power to see A and not-A as essentially related
    - Consciousness as the source of logical structure
    - The eternal, a priori capacity for dialectical thinking
    `;
  }

  getCompleteOpposition(): string {
    return `
    Complete Opposition Structure:
    - "Each is only to the extent that its non-being is"
    - Mutual determination through reciprocal negation
    - "One mediation in which each is by virtue of the non-being of its other"
    - Self-subsistent yet essentially relational
    - The perfect logical structure of determinateness
    `;
  }

  /**
   * The positive determination
   */
  getPositiveDetermination(): string {
    return `
    "The positive is positedness as reflected into self-likeness;
    but what is reflected is positedness, that is, the negation as negation,
    and so this immanent reflection has the reference to the other for its determination"

    The Positive (PRATIYOGIN):
    - Self-likeness that contains unlikeness
    - Negation of negation as positive content
    - Has its determination through reference to negative
    - Not independent but relational essence
    `;
  }

  /**
   * The negative determination
   */
  getNegativeDetermination(): string {
    return `
    "The negative is positedness as reflected into unlikeness;
    but positedness is the unlikeness itself, and so this reflection is
    the identity of unlikeness with itself and absolute self-reference"

    The Negative (ANUYOGIN):
    - Unlikeness that contains likeness
    - Identity of unlikeness with itself
    - Absolute self-reference through self-negation
    - The power of negation as positive force
    `;
  }

  /**
   * Mutual determination
   */
  getMutualDetermination(): string {
    return `
    "Each refers itself to itself only as referring itself to its other.
    Each is the reference to its non-being as the sublating of this otherness in itself"

    ANYONYĀŚRAYA (Mutual Dependence):
    - Self-reference through other-reference
    - Each exists only through the non-being of its other
    - Perfect reciprocal determination
    - The logical structure of all determinateness
    `;
  }

  /**
   * The problem of interchange
   */
  getInterchangeProblem(): string {
    return `
    "The two can be interchanged, and each side is such as
    can be taken equally as positive or negative"

    The Problem of Indifference:
    - External view sees opposites as interchangeable
    - This points to the need for essential determination
    - True opposites must be internally determined
    - Transition toward Contradiction as resolution
    `;
  }
}

/**
 * THE COMPLETE DIFFERENCE SYSTEM
 * ==============================
 *
 * The systematic development of Difference as CITTA's fundamental operation
 */
class DifferenceSystem {
  private absoluteDifference: AbsoluteDifference;
  private diversity: Diversity;
  private opposition: Opposition;

  constructor() {
    this.absoluteDifference = new AbsoluteDifference();
    this.diversity = new Diversity();
    this.opposition = new Opposition();
  }

  /**
   * Complete systematic development
   */
  getCompleteSystematicDevelopment(): string {
    return `
    DIFFERENCE - Complete Systematic Development as CITTA's Operation:

    A. Absolute Difference (BHEDA): Self-Referring Negativity
    ${this.absoluteDifference.dialecticalMovement()}

    B. Diversity (VIVIDHA): External Multiplicity
    ${this.diversity.dialecticalMovement()}

    C. Opposition (VIRODHA): Determinate Opposites
    ${this.opposition.dialecticalMovement()}

    Result: Foundation for Contradiction as unity of opposition
    `;
  }

  /**
   * CITTA's fundamental mechanism
   */
  getCITTAFundamentalMechanism(): string {
    return `
    Difference as CITTA's Fundamental Mechanism:

    1. BHEDA: Mind's power to generate difference from identity
    2. VIVIDHA: Mind's comparing activity with apparent externals
    3. VIRODHA: Mind's ability to see essential oppositions

    This IS how reflective consciousness operates:
    - Self-differentiation (supernatural power)
    - External comparison (empirical level)
    - Essential opposition (logical structure)
    `;
  }

  /**
   * First Law of Vedic Logic
   */
  getFirstLawOfVedicLogic(): string {
    return `
    Difference as First Law of Vedic Logic:

    - The eternal capacity for discrimination (VIVEKA)
    - Not empirical but transcendental differentiation
    - The a priori structure of all logical thinking
    - Mind's supernatural power to create otherness from identity
    - Foundation of all systematic knowledge

    This law is ETERNAL - not dependent on experience but constitutive of it
    `;
  }

  /**
   * The supernatural insight
   */
  getSupernaturalInsight(): string {
    return `
    The "Supernatural" Nature of Difference:

    - Mind's ability to see difference transcends empirical observation
    - The power to generate not-A from A is not found in nature
    - Opposition is posited by consciousness, not discovered in objects
    - The eternal, a priori capacity for logical determination
    - Consciousness as the source of all logical structure

    This points to the transcendental nature of CITTA itself
    `;
  }

  /**
   * Preparation for contradiction
   */
  getPreparationForContradiction(): string {
    return `
    Difference Prepares Contradiction:
    - Opposition shows each opposite containing its other
    - Self-subsistent opposites point beyond themselves
    - The need for unity that preserves difference
    - Transition from external to internal determination
    - Movement toward Contradiction as truth of Opposition
    `;
  }

  /**
   * Complete Sanskrit terminology
   */
  getCompleteSanskritTerminology(): string {
    return `
    Complete Sanskrit Terminology for Difference:

    BHEDA (भेद): Fundamental difference/division
    VIVIDHA (विविध): Diversity/multiplicity
    VIRODHA (विरोध): Opposition/contradiction
    DVANDVA (द्वन्द्व): Pair of opposites
    SAMA (सम): Likeness/similarity
    VISAMA (विषम): Unlikeness/dissimilarity
    VIVEKA (विवेक): Discrimination/discernment
    TULANA (तुलना): Comparison
    PRATIYOGIN (प्रतियोगिन्): Positive term
    ANUYOGIN (अनुयोगिन्): Negative term
    ANYONYĀŚRAYA (अन्योन्याश्रय): Mutual dependence

    These terms capture the complete structure of difference as CITTA's operation
    `;
  }
}

// Export all classes for use in the broader Essence system
export {
  AbsoluteDifference,
  Diversity,
  Opposition,
  DifferenceSystem,
  type DifferenceDetermination,
  type OppositionOperation
};
